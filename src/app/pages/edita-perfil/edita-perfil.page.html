<ion-header>
  <app-header-toolbar></app-header-toolbar>
</ion-header>

<ion-content>
  <div id="perfil">
    <div id="backgroud-cover" [ngStyle]="{'background-image': 'url('+person.cover+')'}"></div>
    <div id="info">
      <img class="image" [src]="person.picture" alt="Default Picture">
    </div>
    <form (ngSubmit)="onSubmit()" #editForm="ngForm">
      <div id="form">
        <ion-item class="ion-margin radius item-form">
          <ion-label position="floating">Nome</ion-label>
          <ion-input [(ngModel)]="person.name" name="name" type="text"></ion-input>
        </ion-item>
        <ion-item class="ion-margin radius item-form">
          <ion-label position="floating">Data de nascimento</ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY" [(ngModel)]="person.dateBirth" name="dateBirth"></ion-datetime>
        </ion-item>
        <ion-item class="ion-margin radius item-form">
          <ion-label position="floating">Descrição</ion-label>
          <ion-textarea [(ngModel)]="person.description" name="description"></ion-textarea>
        </ion-item>
        <ion-item class="ion-margin radius item-form">
          <ion-label position="floating">Senha Atual</ion-label>
          <ion-input (ionChange)="editPassword()" [(ngModel)]="currentPassword" name="currentPassword" type="password"></ion-input>
        </ion-item>
        <ion-item *ngIf="isEditPassword" class="ion-margin radius item-form">
          <ion-label position="floating">Nova Senha</ion-label>
          <ion-input [(ngModel)]="newPassword" name="newPassword" type="password"></ion-input>
        </ion-item>
        <div id="submit">
          <button [routerLink]="['/perfil/', person.id]">
            <ion-icon name="close-outline"></ion-icon>
          </button>
          <button type="submit">
            <ion-icon name="checkmark-outline"></ion-icon>
          </button>
        </div>
      </div>
    </form>
  </div>
</ion-content>

<ion-footer>
  <app-footer-toolbar></app-footer-toolbar>
</ion-footer>